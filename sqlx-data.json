{
  "db": "PostgreSQL",
  "008cd5367891d8c95efbb13efabd6cded0e2e2cce5991a91f8c5a70688d5b865": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Varchar",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "admin",
                  "music"
                ]
              },
              "name": "role"
            }
          }
        ]
      }
    },
    "query": "INSERT INTO api_tokens (token, created_at, hostname, role) VALUES ($1, NOW(), $2, $3)"
  },
  "1c18f3a5ad21b8041449b348daa17a2a7d07b3f4ce4da85eced72bf93c6c905d": {
    "describe": {
      "columns": [
        {
          "name": "hostname!",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "external_ip!",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "last_heartbeat!",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "local_ip?",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "gateway_ip?",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "ssh_port",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "gateway_mac",
          "ordinal": 6,
          "type_info": "Varchar"
        },
        {
          "name": "default_user",
          "ordinal": 7,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        true,
        true,
        true,
        false,
        false,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT\n            ms.hostname as \"hostname!\",\n            external_ip as \"external_ip!\",\n            last_heartbeat as \"last_heartbeat!\",\n            local_ip as \"local_ip?\",\n            gateway_ip as \"gateway_ip?\",\n            ssh_port,\n            gateway_mac,\n            default_user\n         FROM machine_status ms\n         LEFT JOIN ip_connection ip ON ms.hostname = ip.hostname"
  },
  "1fb5fb176363c017c966f2355ac80cbb6b99849cbf4a899c2a909299caf234ff": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Timestamp",
          "Int4",
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO machine_status (hostname, external_ip, last_heartbeat, ssh_port, default_user)\n        VALUES ($1, $2, $3, $4, $5)\n        ON CONFLICT (hostname) DO UPDATE\n        SET external_ip = $2, last_heartbeat = $3, ssh_port = $4, default_user = $5\n        "
  },
  "3017c33d06259e6c3c04718fc21e0062389b2b1dd1adfcdcbdc3f77770521005": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Varchar",
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO ip_connection (hostname, local_ip, gateway_ip, gateway_mac)\n            VALUES ($1, $2, $3, $4)"
  },
  "4b4816d6ef8afc25c7b77223fd883cf39390604878eba12289274128b5e456a0": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "DELETE FROM ip_connection WHERE hostname = $1"
  },
  "f90365df1fd701c4c852f6258f0918cb850193b75457284866d5e2905ecf0885": {
    "describe": {
      "columns": [
        {
          "name": "token",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "kind": {
                "Enum": [
                  "admin",
                  "music"
                ]
              },
              "name": "role"
            }
          }
        ]
      }
    },
    "query": "SELECT token FROM api_tokens WHERE token = $1 AND role = $2"
  }
}